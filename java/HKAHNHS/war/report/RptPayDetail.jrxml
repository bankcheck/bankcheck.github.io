<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="RptPayDetail" pageWidth="595" pageHeight="842" columnWidth="527" leftMargin="34" rightMargin="34" topMargin="71" bottomMargin="71">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="90"/>
	<parameter name="stename" class="java.lang.String"/>
	<queryString>
		<![CDATA[]]>
	</queryString>
	<field name="STNCDATE" class="java.lang.String"/>
	<field name="SLPTYPE" class="java.lang.String"/>
	<field name="CTXMETH" class="java.lang.String"/>
	<field name="GLCCODE" class="java.lang.String"/>
	<field name="STNDESC" class="java.lang.String"/>
	<field name="CTNCTYPE" class="java.lang.String"/>
	<field name="PATNO" class="java.lang.String"/>
	<field name="PATFNAME" class="java.lang.String"/>
	<field name="PATGNAME" class="java.lang.String"/>
	<field name="SLPFNAME" class="java.lang.String"/>
	<field name="SLPGNAME" class="java.lang.String"/>
	<field name="SLPNO" class="java.lang.String"/>
	<field name="STNNAMT" class="java.lang.String"/>
	<field name="STNTDATE" class="java.lang.String"/>
	<field name="STNSTS" class="java.lang.String"/>
	<field name="STNTDATECHAR" class="java.lang.String"/>
	<variable name="SLPNO_1" class="java.lang.Integer" resetType="Group" resetGroup="group_glccode" calculation="Count">
		<variableExpression><![CDATA[$F{SLPNO}]]></variableExpression>
	</variable>
	<variable name="STNNAMT_1" class="java.lang.Double" resetType="Group" resetGroup="group_glccode" calculation="Sum">
		<variableExpression><![CDATA[java.lang.Double.parseDouble($F{STNNAMT})]]></variableExpression>
	</variable>
	<variable name="SLPNO_2" class="java.lang.Integer" resetType="Group" resetGroup="group_ctxmeth" calculation="Count">
		<variableExpression><![CDATA[$F{SLPNO}]]></variableExpression>
	</variable>
	<variable name="STNNAMT_2" class="java.lang.Double" resetType="Group" resetGroup="group_ctxmeth" calculation="Sum">
		<variableExpression><![CDATA[java.lang.Double.parseDouble($F{STNNAMT})]]></variableExpression>
	</variable>
	<variable name="SLPNO_3" class="java.lang.Integer" resetType="Group" resetGroup="group_diotype" calculation="Count">
		<variableExpression><![CDATA[$F{SLPNO}]]></variableExpression>
	</variable>
	<variable name="STNNAMT_3" class="java.lang.Double" resetType="Group" resetGroup="group_diotype" calculation="Sum">
		<variableExpression><![CDATA[java.lang.Double.parseDouble($F{STNNAMT})]]></variableExpression>
	</variable>
	<variable name="SLPNO_4" class="java.lang.Integer" resetType="Group" resetGroup="group_stncdate" calculation="Count">
		<variableExpression><![CDATA[$F{SLPNO}]]></variableExpression>
	</variable>
	<variable name="STNNAMT_4" class="java.lang.Double" resetType="Group" resetGroup="group_stncdate" calculation="Sum">
		<variableExpression><![CDATA[java.lang.Double.parseDouble($F{STNNAMT})]]></variableExpression>
	</variable>
	<variable name="DIOType" class="java.lang.String">
		<variableExpression><![CDATA[($F{SLPTYPE}=="O") ?
   "Out Patient" :
   ( ($F{SLPTYPE}=="I") ? "In Patient" : "Day Case")]]></variableExpression>
	</variable>
	<variable name="PayMeth" class="java.lang.String">
		<variableExpression><![CDATA[($F{CTXMETH}== "C")
? "Cash" :
(($F{CTXMETH}== "D")
? "Card" :
(($F{CTXMETH}== "E")
? "EPS":
(($F{CTXMETH}== "Q")
? "Cheque" :
(($F{CTXMETH}== "U")
? "Cup" :
(($F{CTXMETH}== "T")
? "Octopus" :
(($F{CTXMETH}== "A")
? "Autopay" :
(($F{CTXMETH}== "R")
? "WECHAT/ALIPAY" :"Other")))))))]]></variableExpression>
	</variable>
	<variable name="PatName" class="java.lang.String">
		<variableExpression><![CDATA[$F{SLPFNAME}.length()!=0 ? ($F{SLPFNAME}.trim() + " " + $F{SLPGNAME}.trim()) : ($F{PATFNAME}.trim()+ " " + $F{PATGNAME}.trim())]]></variableExpression>
	</variable>
	<variable name="SLPNO_5" class="java.lang.Integer" calculation="Count">
		<variableExpression><![CDATA[$F{SLPNO}]]></variableExpression>
	</variable>
	<variable name="STNNAMT_5" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[java.lang.Double.parseDouble($F{STNNAMT})]]></variableExpression>
	</variable>
	<variable name="SLPNO_6" class="java.lang.Integer" calculation="Count">
		<variableExpression><![CDATA[$F{SLPNO}]]></variableExpression>
	</variable>
	<variable name="v_stnnamt" class="java.lang.Double">
		<variableExpression><![CDATA[java.lang.Double.parseDouble($F{STNNAMT})]]></variableExpression>
	</variable>
	<group name="group_stncdate" isStartNewPage="true" isReprintHeaderOnEachPage="true">
		<groupExpression><![CDATA[$F{STNCDATE}]]></groupExpression>
		<groupHeader>
			<band height="40">
				<staticText>
					<reportElement x="0" y="20" width="53" height="20"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Arial Unicode MS" size="8" isBold="true" isUnderline="true"/>
					</textElement>
					<text><![CDATA[Type]]></text>
				</staticText>
				<staticText>
					<reportElement x="89" y="20" width="51" height="20"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Arial Unicode MS" size="8" isBold="true" isUnderline="true"/>
					</textElement>
					<text><![CDATA[G/L Code]]></text>
				</staticText>
				<staticText>
					<reportElement x="144" y="20" width="103" height="20"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Arial Unicode MS" size="8" isBold="true" isUnderline="true"/>
					</textElement>
					<text><![CDATA[Description]]></text>
				</staticText>
				<staticText>
					<reportElement x="253" y="20" width="139" height="20"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Arial Unicode MS" size="8" isBold="true" isUnderline="true"/>
					</textElement>
					<text><![CDATA[Patient]]></text>
				</staticText>
				<staticText>
					<reportElement x="440" y="20" width="40" height="20"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="Arial Unicode MS" size="8" isBold="true" isUnderline="true"/>
					</textElement>
					<text><![CDATA[Amount]]></text>
				</staticText>
				<staticText>
					<reportElement x="397" y="20" width="37" height="20"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Arial Unicode MS" size="8" isBold="true" isUnderline="true"/>
					</textElement>
					<text><![CDATA[Slip No]]></text>
				</staticText>
				<staticText>
					<reportElement x="484" y="20" width="43" height="20"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Arial Unicode MS" size="8" isBold="true" isUnderline="true"/>
					</textElement>
					<text><![CDATA[Txn Date]]></text>
				</staticText>
				<textField>
					<reportElement x="0" y="0" width="527" height="20"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial Unicode MS" size="8"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{STNCDATE}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="20">
				<textField isBlankWhenNull="true">
					<reportElement x="382" y="0" width="37" height="20"/>
					<textElement textAlignment="Center">
						<font fontName="Arial Unicode MS" size="7"/>
					</textElement>
					<textFieldExpression class="java.lang.Integer"><![CDATA[$V{SLPNO_4}]]></textFieldExpression>
				</textField>
				<textField pattern="###0.00;-###0.00" isBlankWhenNull="true">
					<reportElement x="428" y="0" width="49" height="20"/>
					<textElement textAlignment="Right">
						<font fontName="Arial Unicode MS" size="7"/>
					</textElement>
					<textFieldExpression class="java.lang.Double"><![CDATA[$V{STNNAMT_4}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<group name="group_diotype">
		<groupExpression><![CDATA[$V{DIOType}+$F{SLPTYPE}]]></groupExpression>
		<groupHeader>
			<band height="20">
				<textField>
					<reportElement x="0" y="0" width="89" height="20"/>
					<textElement>
						<font fontName="Arial Unicode MS" size="7"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[("O".equals($F{SLPTYPE})) ?
   "Out Patient" :
   ("I".equals($F{SLPTYPE}) ? "In Patient" : "Day Case")]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="20">
				<textField isBlankWhenNull="true">
					<reportElement x="382" y="0" width="37" height="20"/>
					<textElement textAlignment="Center">
						<font fontName="Arial Unicode MS" size="7"/>
					</textElement>
					<textFieldExpression class="java.lang.Integer"><![CDATA[$V{SLPNO_3}]]></textFieldExpression>
				</textField>
				<textField pattern="###0.00;-###0.00" isBlankWhenNull="true">
					<reportElement x="428" y="0" width="49" height="20"/>
					<textElement textAlignment="Right">
						<font fontName="Arial Unicode MS" size="7"/>
					</textElement>
					<textFieldExpression class="java.lang.Double"><![CDATA[$V{STNNAMT_3}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<group name="group_ctxmeth">
		<groupExpression><![CDATA[$F{CTXMETH}]]></groupExpression>
	</group>
	<group name="group_glccode">
		<groupExpression><![CDATA[$F{GLCCODE}]]></groupExpression>
		<groupFooter>
			<band height="20">
				<textField isBlankWhenNull="true">
					<reportElement x="382" y="0" width="37" height="20"/>
					<textElement textAlignment="Center">
						<font fontName="Arial Unicode MS" size="7"/>
					</textElement>
					<textFieldExpression class="java.lang.Integer"><![CDATA[$V{SLPNO_1}]]></textFieldExpression>
				</textField>
				<textField pattern="###0.00;-###0.00" isBlankWhenNull="true">
					<reportElement x="428" y="0" width="49" height="20"/>
					<textElement textAlignment="Right">
						<font fontName="Arial Unicode MS" size="7"/>
					</textElement>
					<textFieldExpression class="java.lang.Double"><![CDATA[$V{STNNAMT_1}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="60" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="46" width="528" height="14"/>
				<textElement textAlignment="Center" verticalAlignment="Bottom">
					<font fontName="Arial Unicode MS" size="8"/>
				</textElement>
				<text><![CDATA[Payment Detail Listing]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="2" width="67" height="16"/>
				<textElement>
					<font fontName="Arial Unicode MS" size="8"/>
				</textElement>
				<text><![CDATA[rptPayDetail]]></text>
			</staticText>
			<textField>
				<reportElement x="0" y="32" width="528" height="14"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial Unicode MS" size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{stename}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="454" y="16" width="59" height="16"/>
				<textElement textAlignment="Right">
					<font fontName="Arial Unicode MS" size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["Page "+$V{PAGE_NUMBER}+" of"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement x="514" y="16" width="14" height="16"/>
				<textElement>
					<font fontName="Arial Unicode MS" size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="HH:mm:ss">
				<reportElement x="81" y="18" width="100" height="14"/>
				<textElement textAlignment="Left">
					<font fontName="Arial Unicode MS" size="8"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy HH.mm.ss">
				<reportElement x="2" y="18" width="79" height="14"/>
				<textElement>
					<font fontName="Arial Unicode MS" size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[(new java.text.SimpleDateFormat(     "dd/MMM/yyyy",Locale.ENGLISH)).format(new java.util.Date())]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<detail>
		<band height="18" splitType="Stretch">
			<textField isBlankWhenNull="true">
				<reportElement x="42" y="0" width="39" height="18"/>
				<textElement>
					<font fontName="Arial Unicode MS" size="7"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{CTNCTYPE}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement isPrintRepeatedValues="false" x="85" y="0" width="51" height="18" isPrintInFirstWholeBand="true" printWhenGroupChanges="group_glccode"/>
				<textElement>
					<font fontName="Arial Unicode MS" size="7"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{GLCCODE}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="140" y="0" width="108" height="18"/>
				<textElement>
					<font fontName="Arial Unicode MS" size="7"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{STNDESC}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="252" y="0" width="33" height="18"/>
				<textElement>
					<font fontName="Arial Unicode MS" size="7"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{PATNO}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="386" y="0" width="45" height="18"/>
				<textElement>
					<font fontName="Arial Unicode MS" size="7"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{SLPNO}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="0" y="0" width="38" height="18"/>
				<textElement>
					<font fontName="Arial Unicode MS" size="7"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$V{PayMeth}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement x="289" y="0" width="97" height="18"/>
				<textElement>
					<font fontName="Arial Unicode MS" size="7"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$V{PatName}]]></textFieldExpression>
			</textField>
			<textField pattern="###0.00;-###0.00">
				<reportElement x="435" y="0" width="42" height="18"/>
				<textElement textAlignment="Right">
					<font fontName="Arial Unicode MS" size="7"/>
				</textElement>
				<textFieldExpression class="java.lang.Double"><![CDATA[$V{v_stnnamt}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="486" y="0" width="42" height="18"/>
				<textElement>
					<font fontName="Arial Unicode MS" size="7"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{STNTDATECHAR}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<summary>
		<band height="20">
			<staticText>
				<reportElement x="0" y="0" width="100" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial Unicode MS" size="7" isBold="true"/>
				</textElement>
				<text><![CDATA[Grand Total]]></text>
			</staticText>
			<textField pattern="###0.00;-###0.00" isBlankWhenNull="true">
				<reportElement x="428" y="0" width="49" height="20"/>
				<box>
					<pen lineWidth="0.0" lineStyle="Double"/>
					<topPen lineWidth="0.0" lineStyle="Double"/>
					<leftPen lineWidth="0.0" lineStyle="Double"/>
					<bottomPen lineWidth="0.25" lineStyle="Double"/>
					<rightPen lineWidth="0.0" lineStyle="Double"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Bottom">
					<font fontName="Arial Unicode MS" size="7" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.Double"><![CDATA[$V{STNNAMT_5}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="382" y="0" width="37" height="20"/>
				<box>
					<pen lineWidth="0.0" lineStyle="Double"/>
					<topPen lineWidth="0.0" lineStyle="Double"/>
					<leftPen lineWidth="0.0" lineStyle="Double"/>
					<bottomPen lineWidth="0.25" lineStyle="Double"/>
					<rightPen lineWidth="0.0" lineStyle="Double"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Bottom">
					<font fontName="Arial Unicode MS" size="7" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$V{SLPNO_6}]]></textFieldExpression>
			</textField>
		</band>
	</summary>
</jasperReport>
